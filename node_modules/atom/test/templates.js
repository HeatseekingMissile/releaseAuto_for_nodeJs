var assert = require('assert')
  , templates = require('../').templates;

describe('templates', function () {
    it('should render templates with a path and extension', function (done) {
        var template = templates({ dir: __dirname + '/templates', ext: 'txt' });
        var result = template('foo', { foo: 'cow', bar: 'moo' });
        assert.equal('The cow went moo\n', result);
        done();
    });
    it ('should render templates with a path', function (done) {
        var template = templates({ dir: __dirname + '/templates' });
        var result = template('foo.txt', { foo: 'cow', bar: 'moo' });
        assert.equal('The cow went moo\n', result);
        done();
    });
    it ('should render templates with custom tags', function (done) {
        var template = templates({ dir: __dirname + '/templates', ext: '.txt', open: '[[', close: ']]' });
        var result = template('bar', { foo: 'cow', bar: 'moo' });
        assert.equal('The cow went moo\n', result);
        done();
    });
});
